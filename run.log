================================
object.mk
================================
gcc -c main.c
gcc -c foo.c
gcc -c bar.c
gcc -o main main.o foo.o bar.o
rm -f *.o main

================================
lib_path.mk
================================
gcc -c main.c
gcc -c foo.c
gcc -c bar.c
ar rcs libfoobar.a foo.o bar.o
gcc -o main main.o libfoobar.a
rm -f *.o *.a main

================================
static_flag.mk
================================
gcc -c main.c
gcc -c foo.c
gcc -c bar.c
ar rcs libfoobar.a foo.o bar.o
gcc -o main main.o -static libfoobar.a
ld: library not found for -lcrt0.o
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [main] Error 1
rm -f *.o *.a main

================================
nested.mk
================================
gcc -c main.c
gcc -c foo.c
ar rcs libfoo.a foo.o
gcc -c bar.c
ar rcs libfoobar.a libfoo.a bar.o
gcc -o main main.o libfoobar.a
ld: warning: ignoring file libfoobar.a, file was built for archive which is not the architecture being linked (x86_64): libfoobar.a
Undefined symbols for architecture x86_64:
  "_bar", referenced from:
      _main in main.o
  "_foo", referenced from:
      _main in main.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [main] Error 1
rm -f *.o *.a main

